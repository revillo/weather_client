import React from 'react';
import { render } from '@testing-library/react';
import WeatherResults from '../components/WeatherResults'


var sampleData = {"lat":33.44,"lon":-94.04,"timezone":"America/Chicago","timezone_offset":-18000,
"current":{"dt":1599748019,"sunrise":1599739005,"sunset":1599784168,"temp":297.62,"feels_like":300.95,"pressure":1021,"humidity":83,"dew_point":294.54,"uvi":8.75,"clouds":75,"visibility":10000,"wind_speed":1.5,"wind_deg":300,"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}]},
"hourly":[{"dt":1599746400,"temp":297.62,"feels_like":301.69,"pressure":1021,"humidity":83,"dew_point":294.54,"clouds":75,"visibility":10000,"wind_speed":0.44,"wind_deg":59,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"pop":0.99,"rain":{"1h":0.6}},{"dt":1599750000,"temp":296.9,"feels_like":300.68,"pressure":1021,"humidity":89,"dew_point":294.98,"clouds":87,"visibility":10000,"wind_speed":1.19,"wind_deg":36,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.79},{"dt":1599753600,"temp":296.59,"feels_like":300.32,"pressure":1022,"humidity":93,"dew_point":295.39,"clouds":95,"visibility":10000,"wind_speed":1.57,"wind_deg":32,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.79},{"dt":1599757200,"temp":296.71,"feels_like":300.58,"pressure":1022,"humidity":94,"dew_point":295.69,"clouds":98,"visibility":10000,"wind_speed":1.6,"wind_deg":47,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.75},{"dt":1599760800,"temp":301.06,"feels_like":305.51,"pressure":1021,"humidity":78,"dew_point":296.87,"clouds":83,"visibility":10000,"wind_speed":1.71,"wind_deg":8,"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"pop":0.77},{"dt":1599764400,"temp":301.75,"feels_like":306.08,"pressure":1020,"humidity":75,"dew_point":297.05,"clouds":45,"visibility":10000,"wind_speed":1.9,"wind_deg":13,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"pop":0.86,"rain":{"1h":1.65}},{"dt":1599768000,"temp":301.8,"feels_like":306.15,"pressure":1019,"humidity":76,"dew_point":297.19,"clouds":60,"visibility":10000,"wind_speed":2.09,"wind_deg":33,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"pop":0.94,"rain":{"1h":1.89}},{"dt":1599771600,"temp":300.39,"feels_like":304.67,"pressure":1019,"humidity":76,"dew_point":295.99,"clouds":93,"visibility":10000,"wind_speed":1.08,"wind_deg":322,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.3},{"dt":1599775200,"temp":300.66,"feels_like":304.99,"pressure":1018,"humidity":75,"dew_point":295.93,"clouds":94,"visibility":10000,"wind_speed":1.05,"wind_deg":326,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.3},{"dt":1599778800,"temp":300.52,"feels_like":304.85,"pressure":1019,"humidity":76,"dew_point":295.96,"clouds":92,"visibility":10000,"wind_speed":1.11,"wind_deg":340,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.42},{"dt":1599782400,"temp":299.28,"feels_like":303.74,"pressure":1019,"humidity":82,"dew_point":296.1,"clouds":90,"visibility":10000,"wind_speed":0.97,"wind_deg":337,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0.54},{"dt":1599786000,"temp":297.65,"feels_like":301.65,"pressure":1019,"humidity":85,"dew_point":295.12,"clouds":71,"visibility":10000,"wind_speed":0.86,"wind_deg":347,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"pop":0.73,"rain":{"1h":0.34}},{"dt":1599789600,"temp":297.15,"feels_like":300.59,"pressure":1019,"humidity":89,"dew_point":295.26,"clouds":100,"visibility":10000,"wind_speed":1.86,"wind_deg":302,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"pop":0.62,"rain":{"1h":0.21}},{"dt":1599793200,"temp":296.94,"feels_like":300.74,"pressure":1020,"humidity":90,"dew_point":295.27,"clouds":99,"visibility":10000,"wind_speed":1.32,"wind_deg":339,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"pop":0.62,"rain":{"1h":0.8}},{"dt":1599796800,"temp":297.03,"feels_like":300.79,"pressure":1019,"humidity":89,"dew_point":295.22,"clouds":99,"visibility":10000,"wind_speed":1.31,"wind_deg":13,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"pop":0.54,"rain":{"1h":0.39}},{"dt":1599800400,"temp":295.9,"feels_like":298.92,"pressure":1020,"humidity":92,"dew_point":294.64,"clouds":42,"visibility":10000,"wind_speed":1.94,"wind_deg":27,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"pop":0.83},{"dt":1599804000,"temp":295.57,"feels_like":298.47,"pressure":1020,"humidity":93,"dew_point":294.53,"clouds":37,"visibility":10000,"wind_speed":2,"wind_deg":41,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"pop":0.75},{"dt":1599807600,"temp":295.41,"feels_like":298.11,"pressure":1019,"humidity":93,"dew_point":294.28,"clouds":87,"visibility":10000,"wind_speed":2.17,"wind_deg":48,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"pop":0},{"dt":1599811200,"temp":295.09,"feels_like":297.92,"pressure":1019,"humidity":94,"dew_point":294.24,"clouds":7,"visibility":10000,"wind_speed":1.88,"wind_deg":44,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0},{"dt":1599814800,"temp":294.77,"feels_like":297.62,"pressure":1018,"humidity":94,"dew_point":293.91,"clouds":5,"visibility":10000,"wind_speed":1.63,"wind_deg":31,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0},{"dt":1599818400,"temp":294.32,"feels_like":296.7,"pressure":1018,"humidity":93,"dew_point":293.27,"clouds":51,"visibility":10000,"wind_speed":1.87,"wind_deg":48,"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"pop":0},{"dt":1599822000,"temp":294.05,"feels_like":296.29,"pressure":1019,"humidity":93,"dew_point":293.02,"clouds":41,"visibility":10000,"wind_speed":1.9,"wind_deg":42,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"pop":0},{"dt":1599825600,"temp":293.79,"feels_like":295.91,"pressure":1019,"humidity":94,"dew_point":292.88,"clouds":37,"visibility":10000,"wind_speed":2.01,"wind_deg":41,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"pop":0},{"dt":1599829200,"temp":295.04,"feels_like":297.53,"pressure":1020,"humidity":91,"dew_point":293.63,"clouds":4,"visibility":10000,"wind_speed":1.97,"wind_deg":38,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0},{"dt":1599832800,"temp":296.88,"feels_like":299.42,"pressure":1019,"humidity":84,"dew_point":294.12,"clouds":4,"visibility":10000,"wind_speed":2.25,"wind_deg":47,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0},{"dt":1599836400,"temp":298.68,"feels_like":301.22,"pressure":1019,"humidity":76,"dew_point":294.27,"clouds":4,"visibility":10000,"wind_speed":2.34,"wind_deg":47,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0},{"dt":1599840000,"temp":300.42,"feels_like":303,"pressure":1019,"humidity":69,"dew_point":294.27,"clouds":3,"visibility":10000,"wind_speed":2.35,"wind_deg":56,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0},{"dt":1599843600,"temp":301.52,"feels_like":304.55,"pressure":1018,"humidity":67,"dew_point":294.96,"clouds":15,"visibility":10000,"wind_speed":2.12,"wind_deg":62,"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"pop":0},{"dt":1599847200,"temp":302.74,"feels_like":305.21,"pressure":1018,"humidity":58,"dew_point":293.86,"clouds":2,"visibility":10000,"wind_speed":2.05,"wind_deg":46,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0.01},{"dt":1599850800,"temp":303.42,"feels_like":305.88,"pressure":1017,"humidity":55,"dew_point":293.57,"clouds":5,"visibility":10000,"wind_speed":1.91,"wind_deg":35,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0.11},{"dt":1599854400,"temp":304.19,"feels_like":307.16,"pressure":1016,"humidity":52,"dew_point":293.24,"clouds":0,"visibility":10000,"wind_speed":1.04,"wind_deg":72,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0.24},{"dt":1599858000,"temp":304.17,"feels_like":306.99,"pressure":1015,"humidity":50,"dew_point":292.81,"clouds":1,"visibility":10000,"wind_speed":0.82,"wind_deg":15,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0.29},{"dt":1599861600,"temp":303.73,"feels_like":306.41,"pressure":1014,"humidity":52,"dew_point":292.83,"clouds":2,"visibility":10000,"wind_speed":1.17,"wind_deg":350,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0.37},{"dt":1599865200,"temp":302.54,"feels_like":305.44,"pressure":1014,"humidity":63,"dew_point":294.86,"clouds":2,"visibility":10000,"wind_speed":2.27,"wind_deg":326,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"pop":0.45,"rain":{"1h":0.15}},{"dt":1599868800,"temp":299.05,"feels_like":301.18,"pressure":1014,"humidity":78,"dew_point":294.94,"clouds":1,"visibility":10000,"wind_speed":3.49,"wind_deg":325,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"pop":0.41},{"dt":1599872400,"temp":297.25,"feels_like":299.38,"pressure":1014,"humidity":83,"dew_point":294.31,"clouds":0,"visibility":10000,"wind_speed":2.95,"wind_deg":338,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0.01},{"dt":1599876000,"temp":296.81,"feels_like":299.1,"pressure":1015,"humidity":84,"dew_point":294.01,"clouds":0,"visibility":10000,"wind_speed":2.56,"wind_deg":355,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0.01},{"dt":1599879600,"temp":296.72,"feels_like":298.97,"pressure":1015,"humidity":83,"dew_point":293.75,"clouds":1,"visibility":10000,"wind_speed":2.41,"wind_deg":33,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0},{"dt":1599883200,"temp":296.12,"feels_like":298.85,"pressure":1015,"humidity":86,"dew_point":293.67,"clouds":0,"visibility":10000,"wind_speed":1.73,"wind_deg":16,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0},{"dt":1599886800,"temp":296.07,"feels_like":298.47,"pressure":1015,"humidity":83,"dew_point":293.22,"clouds":6,"visibility":10000,"wind_speed":1.76,"wind_deg":40,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"pop":0},{"dt":1599890400,"temp":295.77,"feels_like":298.15,"pressure":1014,"humidity":85,"dew_point":293.14,"clouds":12,"visibility":10000,"wind_speed":1.86,"wind_deg":51,"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"pop":0},{"dt":1599894000,"temp":295.38,"feels_like":297.92,"pressure":1014,"humidity":87,"dew_point":293.13,"clouds":44,"visibility":10000,"wind_speed":1.63,"wind_deg":39,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"pop":0},{"dt":1599897600,"temp":294.96,"feels_like":297.47,"pressure":1013,"humidity":89,"dew_point":293.12,"clouds":32,"visibility":10000,"wind_speed":1.63,"wind_deg":15,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"pop":0},{"dt":1599901200,"temp":294.69,"feels_like":297.24,"pressure":1013,"humidity":90,"dew_point":293.02,"clouds":23,"visibility":10000,"wind_speed":1.52,"wind_deg":27,"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"pop":0},{"dt":1599904800,"temp":294.49,"feels_like":296.92,"pressure":1013,"humidity":90,"dew_point":292.94,"clouds":22,"visibility":10000,"wind_speed":1.56,"wind_deg":62,"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"pop":0},{"dt":1599908400,"temp":294.21,"feels_like":296.66,"pressure":1013,"humidity":91,"dew_point":292.84,"clouds":18,"visibility":10000,"wind_speed":1.46,"wind_deg":63,"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"pop":0},{"dt":1599912000,"temp":293.97,"feels_like":296.87,"pressure":1013,"humidity":93,"dew_point":292.81,"clouds":12,"visibility":10000,"wind_speed":0.9,"wind_deg":28,"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"pop":0},{"dt":1599915600,"temp":295.28,"feels_like":298.24,"pressure":1014,"humidity":89,"dew_point":293.41,"clouds":100,"visibility":10000,"wind_speed":1.21,"wind_deg":16,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"pop":0}],
"daily":[{"dt":1599760800,"sunrise":1599739005,"sunset":1599784168,"temp":{"day":300.34,"min":295.57,"max":300.34,"night":295.57,"eve":299.27,"morn":297.62},"feels_like":{"day":304.51,"night":298.47,"eve":303.72,"morn":301.67},"pressure":1021,"humidity":79,"dew_point":296.38,"wind_speed":1.71,"wind_deg":8,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"clouds":81,"pop":1,"rain":7.41,"uvi":8.75},{"dt":1599847200,"sunrise":1599825444,"sunset":1599870485,"temp":{"day":302.74,"min":293.79,"max":304.17,"night":295.77,"eve":299.05,"morn":293.79},"feels_like":{"day":305.21,"night":298.15,"eve":301.18,"morn":295.91},"pressure":1018,"humidity":58,"dew_point":293.86,"wind_speed":2.05,"wind_deg":46,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":2,"pop":0.41,"rain":0.23,"uvi":8.71},{"dt":1599933600,"sunrise":1599911883,"sunset":1599956802,"temp":{"day":303.34,"min":293.97,"max":304.56,"night":296.22,"eve":300.04,"morn":293.97},"feels_like":{"day":306.19,"night":298.84,"eve":303.27,"morn":296.87},"pressure":1013,"humidity":59,"dew_point":294.58,"wind_speed":2.11,"wind_deg":353,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":34,"pop":0.25,"uvi":8.49},{"dt":1600020000,"sunrise":1599998323,"sunset":1600043119,"temp":{"day":303.85,"min":294.44,"max":305.03,"night":294.97,"eve":300.46,"morn":294.44},"feels_like":{"day":306.2,"night":296.64,"eve":303.12,"morn":296.56},"pressure":1015,"humidity":60,"dew_point":295.33,"wind_speed":3.38,"wind_deg":32,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":5,"pop":0.52,"rain":1.37,"uvi":8.89},{"dt":1600106400,"sunrise":1600084762,"sunset":1600129436,"temp":{"day":301.89,"min":294.93,"max":302.83,"night":295.31,"eve":298.41,"morn":294.93},"feels_like":{"day":303.46,"night":296.06,"eve":300.4,"morn":296.59},"pressure":1018,"humidity":69,"dew_point":295.71,"wind_speed":4.84,"wind_deg":69,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"clouds":56,"pop":0.97,"rain":4.48,"uvi":9.11},{"dt":1600192800,"sunrise":1600171201,"sunset":1600215752,"temp":{"day":296.82,"min":293.45,"max":298.51,"night":293.45,"eve":296.27,"morn":294.17},"feels_like":{"day":299.08,"night":295.09,"eve":298.09,"morn":295.75},"pressure":1018,"humidity":87,"dew_point":294.54,"wind_speed":3.02,"wind_deg":35,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":99,"pop":0.75,"rain":2.03,"uvi":8.38},{"dt":1600279200,"sunrise":1600257640,"sunset":1600302069,"temp":{"day":301.99,"min":293.19,"max":303.19,"night":295.89,"eve":300.19,"morn":293.19},"feels_like":{"day":305.2,"night":299,"eve":303.48,"morn":294.92},"pressure":1015,"humidity":69,"dew_point":295.97,"wind_speed":2.57,"wind_deg":55,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"clouds":55,"pop":0.96,"rain":4.7,"uvi":8.24},{"dt":1600365600,"sunrise":1600344080,"sunset":1600388385,"temp":{"day":300.84,"min":295,"max":302.58,"night":298.12,"eve":298.12,"morn":295},"feels_like":{"day":304.61,"night":301.77,"eve":301.77,"morn":298.1},"pressure":1012,"humidity":75,"dew_point":296.13,"wind_speed":1.99,"wind_deg":135,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"clouds":100,"pop":1,"rain":10.6,"uvi":9.01}]};

var cityString = "Texarkana, TX";

describe('Weather Results', () => {
 
    it("Renders Current, Hourly and Daily Data", () => {
        
        const { getByText, getAllByText } = render(<WeatherResults layout="landscape" 
            queryResults={sampleData} cityString={cityString}/>
        );

        function textExists(text)
        {
            const docText = getByText(text);
            expect(docText).toBeInTheDocument();
        }

        textExists(cityString);
        textExists("Current Time & Weather");
        textExists("broken clouds");
        textExists("9:26 AM");
        textExists("Thursday, Sep 10th 2020");
        textExists("48 Hour Forecast");
        textExists("7 Day Forecast");

        expect(getAllByText("76°").length > 1).toBeTruthy();
    });



});